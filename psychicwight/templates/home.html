{% extends "base.html" %}
{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-xs-8 col-xs-offset-2">
            <div class="row">
                <div class="col-xs-10">
                    <h1>{{ header }}</h1>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-3 bg-danger">{{l_t}}</div>
                <div class="col-xs-3 bg-info">2</div>
                <div class="col-xs-3 bg-success">3</div>
                <div class="col-xs-3 bg-warning">4</div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-5 text-right">
                    <button id="lastquestion" class="btn btn-default">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="col-xs-2 text-center">
                    <button id="button1" disabled class="btn btn-warning">1/{{l_t}}</button>
                </div>
                <div class="col-xs-5 ">
                    <button id="nextquestion" class="btn btn-default">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12">
                    <hr>
                </div>
            </div>
            {% for t in text3 %}
            <div id="question{{ forloop.counter }}" class="row question" style="background-color: #e6e6e6;">
                <div class="col-xs-2 text-right">
                    <span style="color:#419641" class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                    <span style="color:#c12e2a" class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    (<container class="mychoice btn btn-link disabled">&nbsp;</container>)
                </div>
                <div class="col-xs-1" style="top:calc(17px - 10px);">{{ forloop.counter }}</div>
                <div class="col-xs-4" style="top:calc(17px - 10px);">{{ t.0 }}</div>
                <div class="col-xs-1" style="top:calc(17px - 10px);">
                    <button class="answer ans-true btn btn-primary">正確</button>
                    <br><span></span><br>
                    <button class="answer ans-false btn btn-primary">錯誤</button>
                    <br><span></span><br>
                </div>
                {% if t.1 %}
                <div class="col-xs-3 alert alert-danger" style="top:calc(17px - 10px);">
                    <span class="glyphicon glyphicon-info-sign" aria-hidden="true"> {{ t.1 }}</span>
                </div>
                {% endif %}
            </div>
            {% endfor %}
            <div class="row">
                <div class="col-xs-5">
                    <hr style="border-top-color:#333">
                </div>
                <div class="col-xs-2 text-center">
                    <button id="questionbottom" disabled class="btn btn-warning" style="opacity: 1; background-color: #F5F5F5; border-color: #F5F5F5; color: #111111">1</button>
                </div>
                <div class="col-xs-5">
                    <hr style="border-top-color:#333">
                </div>
            </div>
        </div>
    </div>

</div>
{% endblock %}
{% block js %}
        <script type="text/javascript">
            $(document).ready(function(){
                $("#lastquestion").hide();
                $(".question").hide();
                $("#question1").show();
            });
            $(".answer").click(function(){
                $(this).addClass("active");
                $(this).parent().children(":button").addClass("disabled");
            });
            $(".ans-true").click(function(){
                $(this).parent().parent().children(":first-child").children(".mychoice").text("O");
            });
            $(".ans-false").click(function(){
                $(this).parent().parent().children(":first-child").children(".mychoice").text("X");
            });            
            $("#nextquestion").click(function(){
                var digis = $("#button1").text().split('/');
                var digi = parseInt(digis[0]);
                $("#question"+digi.toString()).hide();

                digi++;
                $("#question"+digi.toString()).show();
                
                digis = digi.toString() + "/{{l_t}}";
                $("#button1").text(digis);
                $("#questionbottom").text(digi);
                if (digi >= {{l_t}}) $(this).hide();
                if (digi > 1) $("#lastquestion").show();
                //var n = $("#button1");
                //$(n.text).css("background-color","yellow");
                //n.text = 2;
            });
            $("#lastquestion").click(function(){
                var digis = $("#button1").text().split('/');
                var digi = parseInt(digis[0]);
                $("#question"+digi.toString()).hide();
                digi--;
                $("#question"+digi.toString()).show();
                
                digis = digi.toString() + "/{{l_t}}";
                $("#button1").text(digis);
                $("#questionbottom").text(digi);
                if (digi <= 1) $(this).hide();
                if (digi < {{l_t}}) $("#nextquestion").show();

                //var n = $("#button1");
                //$(n.text).css("background-color","yellow");
                //n.text = 2;
            });
        </script>
{% endblock %}

